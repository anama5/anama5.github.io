<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.0.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"example.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta name="description" content="一 概述 集中式版本控制系统：SVN  版本库放在一个单一的集中管理中央服务器，干活时使用的是自己的电脑，所以首先要从中央服务器那里得到最新的版本，之后，把自己做完的活推送到中央服务器 集中式版本控制系统必须联网才能工作   分布式版本控制系统：Git  分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在你自己的电脑上。">
<meta property="og:type" content="article">
<meta property="og:title" content="Git">
<meta property="og:url" content="http://example.com/2022/03/30/Git/index.html">
<meta property="og:site_name" content="琅嬛福地">
<meta property="og:description" content="一 概述 集中式版本控制系统：SVN  版本库放在一个单一的集中管理中央服务器，干活时使用的是自己的电脑，所以首先要从中央服务器那里得到最新的版本，之后，把自己做完的活推送到中央服务器 集中式版本控制系统必须联网才能工作   分布式版本控制系统：Git  分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在你自己的电脑上。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://github.com/anama5/mbp/raw/main/git/git%E5%9B%A2%E9%98%9F%E5%86%85%E9%83%A8%E5%8D%8F%E4%BD%9C.png">
<meta property="og:image" content="https://github.com/anama5/mbp/raw/main/git/git%E8%B7%A8%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C.png">
<meta property="og:image" content="https://github.com/anama5/mbp/raw/main/git/git%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81.png">
<meta property="og:image" content="https://github.com/anama5/mbp/raw/main/git/Git%E5%AF%B9%E8%B1%A1.png">
<meta property="article:published_time" content="2022-03-30T07:54:53.000Z">
<meta property="article:modified_time" content="2022-04-02T09:34:12.104Z">
<meta property="article:author" content="安₃">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://github.com/anama5/mbp/raw/main/git/git%E5%9B%A2%E9%98%9F%E5%86%85%E9%83%A8%E5%8D%8F%E4%BD%9C.png">

<link rel="canonical" href="http://example.com/2022/03/30/Git/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Git | 琅嬛福地</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

<a target="_blank" rel="noopener" href="https://github.com/anama5" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#70B7FD; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">琅嬛福地</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://example.com/2022/03/30/Git/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/an3.JPG">
      <meta itemprop="name" content="安₃">
      <meta itemprop="description" content="我未成名君未嫁 可能俱是不如人">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="琅嬛福地">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Git
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2022-03-30 15:54:53" itemprop="dateCreated datePublished" datetime="2022-03-30T15:54:53+08:00">2022-03-30</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2022-04-02 17:34:12" itemprop="dateModified" datetime="2022-04-02T17:34:12+08:00">2022-04-02</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS/" itemprop="url" rel="index"><span itemprop="name">CS</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS/Soft/" itemprop="url" rel="index"><span itemprop="name">Soft</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/CS/Soft/Git/" itemprop="url" rel="index"><span itemprop="name">Git</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="一-概述"><a href="#一-概述" class="headerlink" title="一 概述"></a>一 概述</h1><ol>
<li><p>集中式版本控制系统：SVN</p>
<ol>
<li>版本库放在一个单一的集中管理中央服务器，干活时使用的是自己的电脑，所以首先要从中央服务器那里得到最新的版本，之后，把自己做完的活推送到中央服务器</li>
<li>集中式版本控制系统必须联网才能工作</li>
</ol>
</li>
<li><p>分布式版本控制系统：Git</p>
<ol>
<li>分布式版本控制系统根本没有“中央服务器”，每个人的电脑上都是一个完整的版本库，这样，你工作的时候，就不需要联网了，因为版本库就在你自己的电脑上。多人协作只需把修改推送给对方即可</li>
<li>在实际使用分布式版本控制系统的时候，其实很少在两人之间的电脑上推送版本库的修改，因为可能你们俩不在一个局域网内，两台电脑互相访问不了，也可能今天你的同事病了，他的电脑压根没有开机。因此，分布式版本控制系统通常也有一台充当“中央服务器”的电脑，但这个服务器的作用仅仅是用来方便“交换”大家的修改，没有它大家也一样干活，只是交换修改不方便而已</li>
</ol>
</li>
</ol>
<span id="more"></span>

<h1 id="二-帮助"><a href="#二-帮助" class="headerlink" title="二 帮助"></a>二 帮助</h1><table>
<thead>
<tr>
<th align="left">命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>git help</code></td>
<td>显示 <code>git</code> 命令的概要和常用的 Git 命令列表</td>
</tr>
<tr>
<td align="left">`git help -a</td>
<td>–all`</td>
</tr>
<tr>
<td align="left">`git help -g</td>
<td>–guide`</td>
</tr>
<tr>
<td align="left"><code>git help &lt;command&gt;</code></td>
<td>查看某个命令的详细信息</td>
</tr>
<tr>
<td align="left"><code>git help &lt;concept&gt;</code></td>
<td>查看某个指南的详细信息</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># 二者等价</span><br><span class="line">git help ...</span><br><span class="line">git ... --help | -h</span><br></pre></td></tr></table></figure>

<h1 id="三-配置"><a href="#三-配置" class="headerlink" title="三 配置"></a>三 配置</h1><h2 id="3-1-配置作用域"><a href="#3-1-配置作用域" class="headerlink" title="3.1 配置作用域"></a>3.1 配置作用域</h2><table>
<thead>
<tr>
<th>scope</th>
<th>有效范围</th>
<th>配置文件</th>
</tr>
</thead>
<tbody><tr>
<td>local（默认）</td>
<td>当前仓库</td>
<td><code>.git/config</code></td>
</tr>
<tr>
<td>global</td>
<td>当前用户的所有仓库</td>
<td><code>~/.gitconfig</code></td>
</tr>
<tr>
<td>system</td>
<td>系统所有用户的所有仓库</td>
<td><code>$(prefix)/etc/gitconfig</code></td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 配置文件中的配置会分块 [section]</span><br><span class="line">[user]</span><br><span class="line">	name = anama5</span><br><span class="line">	email = anama5@qq.com</span><br><span class="line">[http]</span><br><span class="line">	sslverify = false</span><br><span class="line">[core]</span><br><span class="line">	autocrlf = true</span><br><span class="line">[color]</span><br><span class="line">	ui = true</span><br></pre></td></tr></table></figure>

<h2 id="3-2-配置命令"><a href="#3-2-配置命令" class="headerlink" title="3.2 配置命令"></a>3.2 配置命令</h2><h3 id="1-查"><a href="#1-查" class="headerlink" title="1 查"></a>1 查</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git config [--scope] --list</code></td>
<td>获取所有配置信息，若省略 scope 则会列出所有配置信息</td>
</tr>
<tr>
<td><code>git config [--scope] [--get] section.key</code></td>
<td>获取指定 key 的 value，若是 multi-valued key 只会获取最后一个 value</td>
</tr>
<tr>
<td><code>git config [--scope] --get-all section.key</code></td>
<td>获取指定 key 的 value，若是 multi-valued key 会获取所有 value</td>
</tr>
<tr>
<td><code>git config [--scope] --get-regexp section.key</code></td>
<td>同 get-all，但会同时显示 key 和 value</td>
</tr>
<tr>
<td><code>git config [--scope] --get-regexp section</code></td>
<td>获取某 section 下的所有 key 和 value</td>
</tr>
</tbody></table>
<h3 id="2-增"><a href="#2-增" class="headerlink" title="2 增"></a>2 增</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git config [--scope] --add section.key value</code></td>
<td>添加配置，同一个 key 可以添加多个 value，scope 默认为 local</td>
</tr>
</tbody></table>
<h3 id="3-删"><a href="#3-删" class="headerlink" title="3 删"></a>3 删</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git config [--scope] --unset section.key [value]</code></td>
<td>删除指定 key 和 value，若是 multi-valued key 需要指定删除哪一个 value，否则报错</td>
</tr>
<tr>
<td><code>git config [--scope] --unset-all section.key</code></td>
<td>删除指定 key 及其所有 value</td>
</tr>
<tr>
<td><code>git config [--scope] --remove-section section</code></td>
<td>删除某 section 下的所有 key 和 value</td>
</tr>
</tbody></table>
<h3 id="4-改"><a href="#4-改" class="headerlink" title="4 改"></a>4 改</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git config [--scope] section.key newValue</code></td>
<td>若 key 不存在则添加，若 key 存在且仅有一个 value 则修改为 newValue，若是 multi-valued key 会报错</td>
</tr>
<tr>
<td><code>git config [--scope] --replace-all section.key newValue</code></td>
<td>若 key 不存在则添加，若 key 存在则无论有几个 value，最终修改为 newValue</td>
</tr>
<tr>
<td><code>git config [--scope] --rename-section oldName newName</code></td>
<td>修改 section 的名称</td>
</tr>
<tr>
<td><code>git config [--scope] --edit</code></td>
<td>直接编辑对应 scope 的配置文件</td>
</tr>
</tbody></table>
<h2 id="3-3-常用配置"><a href="#3-3-常用配置" class="headerlink" title="3.3 常用配置"></a>3.3 常用配置</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"># 1 用户名和邮箱</span><br><span class="line">git config --global user.name &quot;Your Name&quot;</span><br><span class="line">git config --global user.email &quot;Your Email@example.com&quot;</span><br><span class="line"></span><br><span class="line"># 2 回车换行</span><br><span class="line">git config --global core.autocrlf true|false|input</span><br><span class="line">	</span><br><span class="line">	true	默认，add 时将 CRLF 转为 LF，checkout 时将 LF 转为 CRLF</span><br><span class="line">	false	不做改变，如果只在 windows 使用时（推荐）</span><br><span class="line">	input	add 时将 CRLF 转为 LF，checkout 时保持 LF 不变。因此在 window 操作系统下，不要使用这个设置，推荐 Linux 或 Mac 系统使用</span><br><span class="line"></span><br><span class="line"># 3 语法高亮</span><br><span class="line">git config --global color.ui true </span><br><span class="line"></span><br><span class="line"># 4 别名</span><br><span class="line">git config --global alias.st status</span><br><span class="line">git config --global alias.last &#x27;log -1 HEAD&#x27;</span><br><span class="line"></span><br><span class="line"># 5 默认文本编辑器</span><br><span class="line">git config --global core.editor emacs</span><br><span class="line"></span><br><span class="line"># 6 默认差异分析工具：在解决合并冲突时使用哪种差异分析工具，例如改为 vimdiff</span><br><span class="line">git config --global merge.tool vimdiff</span><br></pre></td></tr></table></figure>

<h1 id="三-初始化仓库"><a href="#三-初始化仓库" class="headerlink" title="三 初始化仓库"></a>三 初始化仓库</h1><h2 id="3-1-初始化"><a href="#3-1-初始化" class="headerlink" title="3.1 初始化"></a>3.1 初始化</h2><table>
<thead>
<tr>
<th>语法</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git init</code></td>
<td>将所在目录初始化为 Git 仓库（<code>./.git/</code>）</td>
</tr>
<tr>
<td><code>git init project_name</code></td>
<td>在所在目录下创建指定名称的目录并初始化为 Git 仓库（<code>./project_name/.git/</code>）</td>
</tr>
</tbody></table>
<h2 id="3-2-git-目录"><a href="#3-2-git-目录" class="headerlink" title="3.2 .git 目录"></a>3.2 <code>.git</code> 目录</h2><table>
<thead>
<tr>
<th>文件</th>
<th>类型</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>HEAD</code></td>
<td>-</td>
<td>Related with current active branch，Always point to the latest commit</td>
</tr>
<tr>
<td><code>config</code></td>
<td>-</td>
<td>本仓库（<code>--local</code>）的配置文件</td>
</tr>
<tr>
<td><code>index</code></td>
<td>-</td>
<td>暂存区（stage）文件</td>
</tr>
<tr>
<td><code>objects</code></td>
<td>d</td>
<td>存储对象（<code>blob tree commit ...</code>）</td>
</tr>
<tr>
<td><code>refs</code></td>
<td>d</td>
<td><code>heads/分支引用</code>，<code>remotes/远程引用</code>，<code>tags/标签引用</code></td>
</tr>
<tr>
<td><code>branchs</code></td>
<td>d</td>
<td>分支目录</td>
</tr>
<tr>
<td><code>info</code></td>
<td>d</td>
<td>包含一个全局性排除（global exclude）文件， 用以放置那些不希望被记录在 <code>.gitignore</code> 文件中的忽略模式（ignored patterns）</td>
</tr>
<tr>
<td><code>hooks</code></td>
<td>d</td>
<td>包含客户端或服务端的钩子脚本（hook scripts）</td>
</tr>
<tr>
<td><code>description</code></td>
<td>-</td>
<td>仓库的描述信息，仅供 <code>GitWeb</code> 程序使用</td>
</tr>
</tbody></table>
<h2 id="3-3-仓库相关概念"><a href="#3-3-仓库相关概念" class="headerlink" title="3.3 仓库相关概念"></a>3.3 仓库相关概念</h2><table>
<thead>
<tr>
<th>概念</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>workspace</code></td>
<td>工作区，仓库中除了 <code>.git</code> 目录的其它区域</td>
</tr>
<tr>
<td><code>index / stage</code></td>
<td>暂存区，即 <code>.git/index</code> 文件</td>
</tr>
<tr>
<td><code>repository</code></td>
<td>本地仓库，即 <code>.git/objects</code> 目录</td>
</tr>
<tr>
<td><code>remote</code></td>
<td>远程仓库</td>
</tr>
</tbody></table>
<ol>
<li><p>本地仓库就可以进行版本控制，代码托管中心帮我们维护远程库</p>
</li>
<li><p>代码托管中心种类</p>
<ol>
<li>局域网环境：搭建 GitLab</li>
<li>外网环境：GitHub / Gitee</li>
</ol>
</li>
<li><p>本地库和远程库的交互方式</p>
<ol>
<li><p>团队内部协作</p>
<p><img src="https://github.com/anama5/mbp/raw/main/git/git%E5%9B%A2%E9%98%9F%E5%86%85%E9%83%A8%E5%8D%8F%E4%BD%9C.png"></p>
</li>
<li><p>跨团队协作</p>
<p><img src="https://github.com/anama5/mbp/raw/main/git/git%E8%B7%A8%E5%9B%A2%E9%98%9F%E5%8D%8F%E4%BD%9C.png"></p>
</li>
</ol>
</li>
</ol>
<h2 id="3-4-文件状态"><a href="#3-4-文件状态" class="headerlink" title="3.4 文件状态"></a>3.4 文件状态</h2><p><img src="https://github.com/anama5/mbp/raw/main/git/git%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81.png"></p>
<table>
<thead>
<tr>
<th>状态</th>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>Untracked</code></td>
<td>未追踪状态</td>
<td>工作区中未被 git 仓库管理的文件，尚未添加到暂存区</td>
</tr>
<tr>
<td><code>Staged</code></td>
<td>暂存状态</td>
<td>工作区中未被 git 仓库管理的文件，已添加到暂存区</td>
</tr>
<tr>
<td><code>Unmodify</code></td>
<td>未修改状态</td>
<td>工作区中已被 git 仓库管理的文件，与仓库中的文件一致</td>
</tr>
<tr>
<td><code>Modified</code></td>
<td>已修改状态</td>
<td>工作区中已被 git 仓库管理的文件，与仓库中的文件不一致</td>
</tr>
</tbody></table>
<h1 id="四-Git-原理"><a href="#四-Git-原理" class="headerlink" title="四 Git 原理"></a>四 Git 原理</h1><h2 id="4-1-概述"><a href="#4-1-概述" class="headerlink" title="4.1 概述"></a>4.1 概述</h2><ol>
<li>Git 的核心部分是一个简单的键值对数据库，即 <code>.git/objects</code> 目录，Git 中所有对象都是以键值对形式存储的<ol>
<li>键：<ul>
<li>将待存储的数据外加一个头部信息（<code>blob 文件长度\0文件内容</code>）一起做 <code>SHA-1</code> 校验运算而得的一个长度为 40 个字符的校验和</li>
</ul>
</li>
<li>存储方式：<ul>
<li>校验和的前 2 个字符作为<code>./git/objects/</code> 下的子目录名，余下的 38 个字符用作子目录下的文件名</li>
</ul>
</li>
</ol>
</li>
<li>Git 工作流程<ol>
<li>工作区发生变化（增删改）</li>
<li>git add<ol>
<li>在 <code>.git/objects</code> 下创建文件的 blob 对象</li>
<li>更新 index 文件，可使用 <code>git ls-files -s</code> 命令查看 index 文件信息</li>
</ol>
</li>
<li>git commit<ol>
<li>根据 index 文件在 <code>.git/objects</code> 下创建 tree 对象（一个顶层 tree 及其它子孙 tree）</li>
<li>创建 commit 对象</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="4-2-Git-对象"><a href="#4-2-Git-对象" class="headerlink" title="4.2 Git 对象"></a>4.2 Git 对象</h2><p><img src="https://github.com/anama5/mbp/raw/main/git/Git%E5%AF%B9%E8%B1%A1.png"></p>
<table>
<thead>
<tr>
<th><code>git object</code></th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>blob</code></td>
<td>文件内容，多个文件如果内容相同只会存储一个 blob</td>
</tr>
<tr>
<td><code>tree</code></td>
<td>目录结构（包含哪些文件及目录，文件权限，文件名）</td>
</tr>
<tr>
<td><code>commit</code></td>
<td>1 可能存在的 <code>parent commit</code><br>2 对应快照的顶层  <code>tree</code><br>3 作者和提交者信息（依据 <code>user.name</code> 和 <code>user.email</code> 配置来设定，外加一个时间戳）<br>4 留空一行，最后是提交注释</td>
</tr>
<tr>
<td><code>tag</code></td>
<td>1 标签创建者信息<br/>2 日期<br/>3 注释信息<br/>4 指针（指向一个提交对象）</td>
</tr>
</tbody></table>
<ol start="3">
<li>根据暂存区的结构生成一个顶层 tree 对象，一个顶层 tree 对象对应一个版本的快照，但存在缺点<ol>
<li>复用快照时必须记住对应 tree 对象的键</li>
<li>无法得知快照的相关信息，如保存者，保存时间及保存原因</li>
<li>快照之间没有关联</li>
</ol>
</li>
<li>一个 commit 对象<ol>
<li>commit 对象中包含了对应快照的顶层 tree 对象，所以 commit 对象也能代表对应版本的快照，commit 对象中可以保存快照的其它信息</li>
<li>commit 对象中包含了一个可能存在的父 commit 对象，这样就形成了一个提交链，快照之间有了关联</li>
<li>复用时依然需要记住对应 commit 对象的键</li>
</ol>
</li>
</ol>
<h3 id="1-blob"><a href="#1-blob" class="headerlink" title="1 blob"></a>1 blob</h3><h4 id="1-存"><a href="#1-存" class="headerlink" title="1 存"></a>1 存</h4><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git hash-object &lt;FILE&gt;</code></td>
<td>返回文件的唯一键（哈希值）</td>
</tr>
<tr>
<td><code>git hash-object -w &lt;FILE&gt;</code></td>
<td>返回文件的唯一键，并存入数据库（<code>.git/objects</code> ）</td>
</tr>
<tr>
<td><code>git hash-object -w --stdin</code></td>
<td>读取标准输入中的数据并存入数据库</td>
</tr>
</tbody></table>
<h4 id="2-取"><a href="#2-取" class="headerlink" title="2 取"></a>2 取</h4><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git cat-file -p key</code></td>
<td>查看文件内容</td>
</tr>
<tr>
<td><code>git cat-file -t key</code></td>
<td>查看文件类型</td>
</tr>
<tr>
<td><code>git cat-file -s key</code></td>
<td>查看文件大小</td>
</tr>
</tbody></table>
<h3 id="2-tree"><a href="#2-tree" class="headerlink" title="2 tree"></a>2 tree</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># 1 更新暂存区</span><br><span class="line">git update-index --add --cacheinfo 文件类型 键 文件名</span><br><span class="line"></span><br><span class="line">	--add	</span><br><span class="line">		如果文件还未添加到暂存区中，需要添加此参数</span><br><span class="line">	--cacheinfo</span><br><span class="line">		如果文件不在工作区中，而仅在 `.git/objects` 数据库中，则需要此参数</span><br><span class="line">	文件类型</span><br><span class="line">    	100644	普通文件</span><br><span class="line">		100755	可执行文件</span><br><span class="line">		120000	符号链接</span><br><span class="line">       </span><br><span class="line"># 2 根据暂存区创建顶层 tree 对象，也叫快照</span><br><span class="line">git write-tree</span><br><span class="line"></span><br><span class="line"># 3 将一个 tree 对象读入暂存区，此 tree 对象会作为顶层 tree 对象的子树，就相当于将一个目录复制到了另一个目录中</span><br><span class="line">git read-tree --prefix=名称 树对象的键</span><br></pre></td></tr></table></figure>

<h3 id="3-commit"><a href="#3-commit" class="headerlink" title="3 commit"></a>3 commit</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 1 创建提交对象</span><br><span class="line">echo &#x27;提交信息&#x27; | git commit-tree 树对象的键 [-p 父提交对象的键]</span><br><span class="line"></span><br><span class="line"># 2 查看提交历史</span><br><span class="line">git log --stat commit_id</span><br></pre></td></tr></table></figure>

<h2 id="4-3-Git-引用"><a href="#4-3-Git-引用" class="headerlink" title="4.3 Git 引用"></a>4.3 Git 引用</h2><table>
<thead>
<tr>
<th>目录</th>
<th>名称</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>.git/refs/heads</code></td>
<td>分支引用</td>
<td>指向某个 commit 对象</td>
</tr>
<tr>
<td><code>.git/HEAD</code></td>
<td>HEAD 引用</td>
<td>指向当前的分支引用</td>
</tr>
<tr>
<td><code>.git/refs/tags</code></td>
<td>标签引用</td>
<td>指向任意对象</td>
</tr>
<tr>
<td><code>.git/refs/remote</code></td>
<td>远程引用，只读的</td>
<td>指向某个 commit 对象</td>
</tr>
</tbody></table>
<ol>
<li><p>虽然通过 commit 对象可以查询其及其之前的提交历史，但 commit 对象的键依然很难记忆</p>
</li>
<li><p>可以用一个文件来保 commit 对象的键，而给文件起一个容易记忆的名字，类似于别名，这个文件就是引用或指针，存储在 <code>.git/refs</code> 目录下</p>
</li>
<li><p>分支引用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git update-ref refs/heads/branch_name commit_id</span><br></pre></td></tr></table></figure>

<ol>
<li>分支就是一个指向某个 commit 对象的引用，执行 <code>git branch branch_name</code> 命令时，其实就是运行 <code>git update-ref</code> 命令将最新的 commit_id 存入了分支引用</li>
<li>一个 commit 对象可以有多个分支，就好像起了多个别名一样</li>
</ol>
</li>
<li><p>HEAD 引用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 查看 HEAD 的值</span><br><span class="line">git symbolic-ref HEAD</span><br><span class="line"></span><br><span class="line"># 设置 HEAD 的值</span><br><span class="line">git symbolic-ref HEAD refs/heads/branch_name</span><br></pre></td></tr></table></figure>

<ol>
<li><p>HEAD 是一个符号引用，指向当前所在的分支，符号引用，意味着它并非像普通引用一样包含提交对象的键，而是包含一个指向其它引用的指针</p>
</li>
<li><p>HEAD 的指向有两种情况</p>
<ol>
<li>HEAD → 分支 → commit</li>
<li>HEAD → commit（detached HEAD）</li>
</ol>
</li>
<li><p>分离头指针（detached HEAD）</p>
<ol>
<li>通常情况下，我们都工作在某一个分支上，如 master 分支，HEAD 指针就指向当前分支，每做一次提交，master 指针和 HEAD 指针就会一起向前挪一步。但在某些情况下，例如 checkout 了某个具体的 commit，此时就会工作在没有分支的状态下，HEAD 没有指向任何分支而是直接指向了 commit，就变成了 detached HEAD</li>
<li>分离头指针状态下的变更可能会丢失</li>
<li>如果想要保留分离头指针变更，就将其与某个分支绑定 <code>git branch 分支名 分离头指针指向的commit_id</code></li>
</ol>
</li>
</ol>
</li>
<li><p>标签引用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git update-ref refs/tags/tag_name commit_id</span><br></pre></td></tr></table></figure>

<ol>
<li><p>标签引用并非必须指向某个提交对象；可以对任意类型的 Git 对象打标签</p>
</li>
<li><p>标签引用可以理解为对这个对象的注释</p>
</li>
<li><p>HEAD：一个指向当前分支的引用，最终还是指向某个</p>
</li>
<li><p>标签：一个指向某个对象的引用，可以理解为对这个对象的注释</p>
</li>
</ol>
</li>
</ol>
<h1 id="五-Git-操作命令"><a href="#五-Git-操作命令" class="headerlink" title="五 Git 操作命令"></a>五 Git 操作命令</h1><h2 id="5-1-查"><a href="#5-1-查" class="headerlink" title="5.1 查"></a>5.1 查</h2><h3 id="1-git-status"><a href="#1-git-status" class="headerlink" title="1 git status"></a>1 git status</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git status [&lt;options&gt;…] [--] [&lt;pathspec&gt;…]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>git-status - Show the working tree status</p>
<ol>
<li>Displays paths that have differences between <strong>the index file</strong> and <strong>the current HEAD commit</strong></li>
<li>Displays paths that have differences between <strong>the working tree</strong> and <strong>the index file</strong></li>
<li>Displays paths <strong>in the working tree that are not tracked</strong> by Git (and are not ignored by <code>.gitignore</code>)</li>
</ol>
</blockquote>
<h3 id="2-git-log"><a href="#2-git-log" class="headerlink" title="2 git log"></a>2 git log</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log [&lt;options&gt;] [&lt;revision-range&gt;] [[--] &lt;path&gt;…]</span><br></pre></td></tr></table></figure>

<blockquote>
<p>git-log - Show commit logs</p>
<p>默认会按时间从上往下依次列出每个提交的 SHA-1 校验和、作者的名字和电子邮件地址、提交时间以及提交说明</p>
</blockquote>
<table>
<thead>
<tr>
<th>options</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>`-p</td>
<td>–patch`</td>
</tr>
<tr>
<td><code>--stat</code></td>
<td>显示每次提交的文件修改统计信息</td>
</tr>
<tr>
<td><code>--graph</code></td>
<td>在日志旁以 ASCII 图形显示分支与合并历史</td>
</tr>
<tr>
<td><code>--abbrev-commit</code></td>
<td>仅显示 SHA-1 校验和所有 40 个字符中的前几个字符</td>
</tr>
<tr>
<td><code>--pretty[=&lt;format&gt;]</code></td>
<td>使用其他格式显示历史提交信息。可用的选项包括 oneline、short、full、fuller 和 format（用来定义自己的格式）</td>
</tr>
<tr>
<td><code>--oneline</code></td>
<td><code>--pretty=oneline --abbrev-commit</code> 合用的简写</td>
</tr>
<tr>
<td><code>-&lt;n&gt;</code></td>
<td>仅显示最近的 n 条提交</td>
</tr>
<tr>
<td>`(–since</td>
<td>–after)=<date>`</td>
</tr>
<tr>
<td>`(–until</td>
<td>–before)=<date>`</td>
</tr>
<tr>
<td><code>--author=&lt;pattern&gt;</code></td>
<td>仅显示作者（实际作出修改的人）匹配指定字符串的提交</td>
</tr>
<tr>
<td><code>--committer=&lt;pattern&gt;</code></td>
<td>仅显示提交者（提交到仓库的人）匹配指定字符串的提交</td>
</tr>
<tr>
<td><code>--grep=&lt;pattern&gt;</code></td>
<td>仅显示提交说明中包含指定字符串的提交</td>
</tr>
<tr>
<td><code>-S &lt;pattern&gt;</code></td>
<td>仅显示添加或删除内容匹配指定字符串的提交</td>
</tr>
<tr>
<td><code>--merges</code></td>
<td>仅显示合并提交，相当于 <code>--min-parents=2</code></td>
</tr>
<tr>
<td><code>--no-merges</code></td>
<td>仅显示未合并提交，相当于 <code>--max-parents=1</code></td>
</tr>
<tr>
<td><code>[--] &lt;path&gt;</code></td>
<td>仅显示指定路径的历史提交，放在最后，用两个短划线（–）隔开之前的选项和后面限定的路径名</td>
</tr>
</tbody></table>
<h3 id="3-git-reflog"><a href="#3-git-reflog" class="headerlink" title="3 git reflog"></a>3 git reflog</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reflog &lt;subcommand&gt; &lt;options&gt;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>git-reflog - Manage reflog information</p>
<ol>
<li><code>git log</code> 只会显示 HEAD 及其之前的 <code>commit_id</code></li>
<li><code>git reflog</code> 记录着每一次命令及其对应 <code>id</code>，回滚之后，可以用此命令查询 HEAD 之后的 <code>commit_id</code></li>
</ol>
</blockquote>
<h2 id="5-2-增"><a href="#5-2-增" class="headerlink" title="5.2 增"></a>5.2 增</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git add &lt;FILE&gt;</code></td>
<td>把文件的变化（增删改）添加到暂存区，可添加多个，用空格隔开</td>
</tr>
<tr>
<td><code>git add .</code></td>
<td>把当前目录所有有改动的文件添加到暂存区（包括新增的）</td>
</tr>
<tr>
<td><code>git add -u</code></td>
<td>把有改动的已经被 git 仓库管理的文件添加到暂存区（即不含新增的）</td>
</tr>
</tbody></table>
<h2 id="5-3-删"><a href="#5-3-删" class="headerlink" title="5.3 删"></a>5.3 删</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git rm --cache &lt;FILE&gt;</code></td>
<td>从暂存区删除文件，即从暂存区撤回</td>
</tr>
<tr>
<td><code>git rm &lt;FILE&gt;</code></td>
<td>从暂存区和工作区同时删除文件</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">git rm</span><br><span class="line">// 等价于</span><br><span class="line">rm</span><br><span class="line">git add/rm</span><br></pre></td></tr></table></figure>

<h2 id="5-4-重命名"><a href="#5-4-重命名" class="headerlink" title="5.4 重命名"></a>5.4 重命名</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git mv oldName newName</code></td>
<td>将工作区和暂存区的文件同时重命名</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git mv a a.txt</span><br><span class="line">等价于</span><br><span class="line">mv a a.txt</span><br><span class="line">git rm a</span><br><span class="line">git add a.txt</span><br><span class="line"></span><br><span class="line">1 使用 mv 时，相当于删除了原名称文件，创建了新名称文件</span><br><span class="line">2 此时需要删除暂存区中的原名称文件，然后把新名称文件添加到暂存区</span><br></pre></td></tr></table></figure>

<h2 id="5-5-提交"><a href="#5-5-提交" class="headerlink" title="5.5 提交"></a>5.5 提交</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git commit -m &quot;message&quot;</code></td>
<td>将暂存区文件提交到本地仓库当前分支</td>
</tr>
<tr>
<td><code>git commit -am &quot;message&quot;</code></td>
<td>已经被 git 仓库管理的文件，会自动暂存并提交，即相当于同时做了 <code>git add</code></td>
</tr>
<tr>
<td><code>git commit --amend -m &quot;message&quot;</code></td>
<td>如果自上次提交以来还未做任何修改，即暂存区和本地仓库一致，那么快照会保持不变，所修改的只是提交信息（即修改最近一次提交的提交信息）</td>
</tr>
</tbody></table>
<h2 id="5-6-比较"><a href="#5-6-比较" class="headerlink" title="5.6 比较"></a>5.6 比较</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git diff </code></td>
<td>比较工作区和暂存区所有文件的差异</td>
</tr>
<tr>
<td><code>git diff &lt;FILE&gt;</code></td>
<td>比较工作区和暂存区指定文件的差异</td>
</tr>
<tr>
<td><code>git diff HEAD </code></td>
<td>比较工作区和本地仓库（最新版本HEAD）的差异</td>
</tr>
<tr>
<td><code>git diff commit_id</code></td>
<td>比较工作区和本地仓库（指定 <code>commit_id</code> 的版本）的差异</td>
</tr>
<tr>
<td><code>git diff --cached [HEAD]</code></td>
<td>比较暂存区和本地仓库（最新版本HEAD）的差异</td>
</tr>
<tr>
<td><code>git diff --cached commit_id</code></td>
<td>比较暂存区和本地仓库（指定 <code>commit_id</code> 的版本）的差异</td>
</tr>
<tr>
<td><code>git diff commit_id commit_id</code></td>
<td>比较本地仓库中两个 <code>commit-id</code> 版本间的差异</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">git diff 命令的输出：假设比较的是暂存区和工作区</span><br><span class="line"></span><br><span class="line">// 1 表示有差异的文件是 passwd</span><br><span class="line">diff --git a/passwd b/passwd</span><br><span class="line"></span><br><span class="line">// 2 903f383..4182764：暂存区的文件..工作区的文件</span><br><span class="line">index 903f383..4182764 100644</span><br><span class="line"></span><br><span class="line">// 3 -：代表暂存区文件 +：代表工作区文件</span><br><span class="line">--- a/passwd</span><br><span class="line">+++ b/passwd</span><br><span class="line"></span><br><span class="line">// 4 文件内容可能有很多，使用 @@ 分块，3,7：表示从第3行开始共显示7行</span><br><span class="line">@@ -3,7 +3,7 @@</span><br></pre></td></tr></table></figure>

<h2 id="5-7-回溯"><a href="#5-7-回溯" class="headerlink" title="5.7 回溯"></a>5.7 回溯</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git reset --hard commit_id</code></td>
<td>本地仓库指针回溯到指定版本，重置暂存区、工作区</td>
</tr>
<tr>
<td><code>git reset [--mixed] commit_id</code>（默认）</td>
<td>本地仓库指针回溯到指定版本，重置暂存区，保留工作区</td>
</tr>
<tr>
<td><code>git reset --soft commit_id</code></td>
<td>本地仓库指针回溯到指定版本，保留暂存区、工作区</td>
</tr>
</tbody></table>
<ol>
<li><p>版本说明</p>
<ul>
<li><p><code>commit_id</code>：指定版本</p>
</li>
<li><p><code>HEAD</code>：当前版本</p>
</li>
<li><p><code>HEAD^</code>：上个版本</p>
</li>
<li><p><code>HEAD^^</code>：上上个版本</p>
</li>
<li><p><code>HEAD-100</code>：上 100 个版本</p>
</li>
</ul>
</li>
<li><p>可以在后边添加文件，表示只回溯指定文件</p>
</li>
</ol>
<h2 id="5-8-检出"><a href="#5-8-检出" class="headerlink" title="5.8 检出"></a>5.8 检出</h2><blockquote>
<p>git-checkout - Switch branches or restore working tree files</p>
<p>Updates files in the working tree to match the version in the index or the specified tree. If no pathspec was given, <em>git checkout</em> will also update <code>HEAD</code> to set the specified branch as the current branch</p>
</blockquote>
<h3 id="1-重置工作区"><a href="#1-重置工作区" class="headerlink" title="1 重置工作区"></a>1 重置工作区</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git checkout -- &lt;FILE&gt;</code></td>
<td>从暂存区检出某个文件覆盖工作区</td>
</tr>
<tr>
<td><code>git checkout .</code></td>
<td>从暂存区检出所有文件覆盖工作区</td>
</tr>
</tbody></table>
<h3 id="2-切换分支"><a href="#2-切换分支" class="headerlink" title="2 切换分支"></a>2 切换分支</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git checkout branch_name</code></td>
<td>切换到指定分支</td>
</tr>
<tr>
<td><code>git checkout -b branch_name [template]</code></td>
<td>默认以当前分支为模板创建并切换分支</td>
</tr>
<tr>
<td><code>git checkout commit_id</code></td>
<td>切换到某个 commit，会导致 detached HEAD</td>
</tr>
</tbody></table>
<ul>
<li>checkout 切换就是改变 HEAD 的指向？<ul>
<li>切换到分支则 HEAD → branch → commit</li>
<li>切换到提交则 HEAD → commit（detached HEAD state）</li>
</ul>
</li>
</ul>
<h1 id="六-分支"><a href="#六-分支" class="headerlink" title="六 分支"></a>六 分支</h1><h2 id="6-1-分支操作"><a href="#6-1-分支操作" class="headerlink" title="6.1 分支操作"></a>6.1 分支操作</h2><h3 id="1-查看分支"><a href="#1-查看分支" class="headerlink" title="1 查看分支"></a>1 查看分支</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git branch</code></td>
<td>显示本地所有分支，当前分支前有 <code>*</code> 号</td>
</tr>
<tr>
<td><code>git branch -r</code></td>
<td>显示远程所有分支</td>
</tr>
<tr>
<td><code>git branch -a</code></td>
<td>显示本地和远程所有分支</td>
</tr>
<tr>
<td><code>git branch -v</code></td>
<td>显示本地分支及其最后一次提交</td>
</tr>
<tr>
<td><code>git branch -vv</code></td>
<td>显示本地分支及其跟踪的远程分支</td>
</tr>
<tr>
<td><code>git branch --merged</code></td>
<td>显示分支列表中已经合并到当前分支的分支</td>
</tr>
<tr>
<td><code>git branch --no-merged</code></td>
<td>显示分支列表中尚未合并到当前分支的分支</td>
</tr>
</tbody></table>
<h3 id="2-创建分支"><a href="#2-创建分支" class="headerlink" title="2 创建分支"></a>2 创建分支</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git branch branch_name [template]</code></td>
<td>默认以当前分支为模板创建分支</td>
</tr>
</tbody></table>
<h3 id="3-切换分支"><a href="#3-切换分支" class="headerlink" title="3 切换分支"></a>3 切换分支</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git checkout branch_name</code>（旧）</td>
<td>切换到指定分支</td>
</tr>
<tr>
<td><code>git switch branch_name</code>（新）</td>
<td>切换到指定分支</td>
</tr>
<tr>
<td><code>git checkout -b branch_name [template]</code>（旧）</td>
<td>默认以当前分支为模板创建分支并切换</td>
</tr>
<tr>
<td><code>git switch -c branch_name [template]</code>（新）</td>
<td>默认以当前分支为模板创建分支并切换</td>
</tr>
</tbody></table>
<h3 id="4-删除分支"><a href="#4-删除分支" class="headerlink" title="4 删除分支"></a>4 删除分支</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git branch -d branch_name</code></td>
<td>删除本地分支</td>
</tr>
<tr>
<td><code>git push remote_name --delete branch_name</code></td>
<td>删除远程分支</td>
</tr>
</tbody></table>
<h2 id="6-2-合并-merge"><a href="#6-2-合并-merge" class="headerlink" title="6.2 合并 merge"></a>6.2 合并 merge</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git merge branch_name</code></td>
<td>把指定分支合并到当前分支</td>
</tr>
<tr>
<td><code>git merge --no-ff branch_name</code></td>
<td>不使用 fast-forward 方式，每次合并都产生一个新的提交</td>
</tr>
</tbody></table>
<ol>
<li>git merge branch_name 是将指定分支合并到当前分支，其实就是修改当前分支指向的 commit，如果指定分支落后当前分支，那么合并不会有变化，会提示 Already up to date，也就是说当前分支指向不能往后移动，只能向前合并</li>
<li>合并方式<ol>
<li>fast forward<ul>
<li>要合并的两个分支，顺着一个分支走下去能够到达另一个分支</li>
<li>那么 Git 在合并两者时，只会简单的将指针向前推进（指针右移），因为这种情况下的合并操作没有需要解决的分歧</li>
</ul>
</li>
<li>3 way merge<ul>
<li>当你的开发历史从一个更早的地方开始分叉开来，当前分支所在的提交并不是要合并的另一个分支所在提交的直接祖先，Git 不得不做一些额外的工作</li>
<li>合并时，Git 会使用两个分支的末端所指的快照以及这两个分支的公共祖先，做一个简单的三方合并，将此次三方合并的结果做了一个新的快照并且自动创建一个新的提交指向它</li>
</ul>
</li>
</ol>
</li>
</ol>
<h2 id="6-3-变基-rebase"><a href="#6-3-变基-rebase" class="headerlink" title="6.3 变基 rebase"></a>6.3 变基 rebase</h2><h3 id="1-概述"><a href="#1-概述" class="headerlink" title="1 概述"></a>1 概述</h3><ol>
<li>在 Git 中整合来自不同分支的修改主要有两种方法：<code>merge</code> 以及 <code>rebase</code></li>
<li>将提交到某一分支上的所有修改都移至另一分支上，就好像“重新播放”一样，这种操作就叫做 变基</li>
<li>变基可以使提交历史更为线形，简洁，而合并则是保留每一个提交历史</li>
<li><strong>如果提交存在于你的仓库之外，而别人可能基于这些提交进行开发，那么不要执行变基</strong></li>
<li><strong>只对尚未推送或分享给别人的本地修改执行变基操作清理历史， 从不对已推送至别处的提交执行变基操作</strong></li>
</ol>
<h3 id="2-变基原理"><a href="#2-变基原理" class="headerlink" title="2 变基原理"></a>2 变基原理</h3><ol>
<li>首先找到两个分支（要变基的分支 <code>dev</code> 和目标基底分支 <code>master</code>）的最近共同祖先</li>
<li>然后对比 <code>dev</code> 分支相对于该祖先的历次提交，提取相应的修改并存为临时文件</li>
<li>将 <code>dev</code> 分支指向 <code>master</code> 分支的最后一次提交</li>
<li>在 <code>master</code> 的最后一次提交，依序应用之前的临时文件，最后生成一个新的提交</li>
<li>之后将 <code>dev</code> 分支快速合并到 <code>master</code></li>
</ol>
<h3 id="3-命令"><a href="#3-命令" class="headerlink" title="3 命令"></a>3 命令</h3><h4 id="1-变基命令"><a href="#1-变基命令" class="headerlink" title="1 变基命令"></a>1 变基命令</h4><ol>
<li><code>git rebase base_branch [re_branch]</code><ul>
<li>将 re_branch 分支变基到 base_branch 分支，即将 re_branch 指向的 commit 的 父 commit 设为 base_branch 对应的 commit</li>
<li><code>base_branch</code><ul>
<li>目标基底分支</li>
</ul>
</li>
<li><code>re_branch</code><ul>
<li>要变基的分支，省略则表示当前分支</li>
</ul>
</li>
</ul>
</li>
<li><code>git rebase --onto base_branch branch re_branch</code><ol>
<li>首先找出 re_branch 分支与 branch 分支的分歧之后的提交</li>
<li>然后将这些提交变基到 <code>base_branch</code> 上</li>
</ol>
</li>
</ol>
<h4 id="2-变基过程中的命令"><a href="#2-变基过程中的命令" class="headerlink" title="2 变基过程中的命令"></a>2 变基过程中的命令</h4><ol>
<li><code>git rebase --skip</code><ul>
<li>跳过当前冲突</li>
</ul>
</li>
<li><code>git rebase --abort</code><ul>
<li>退出rebase模式</li>
</ul>
</li>
<li><code>git add</code><ul>
<li>解决冲突后使用 <code>git add</code> 表示冲突已经解决</li>
</ul>
</li>
<li><code>git rebase --continue</code><ul>
<li>解决冲突并 <code>git add</code> 之后，表示继续接下来的操作</li>
</ul>
</li>
</ol>
<h3 id="4-场景"><a href="#4-场景" class="headerlink" title="4 场景"></a>4 场景</h3><h4 id="1-修改旧的-commit-的-message"><a href="#1-修改旧的-commit-的-message" class="headerlink" title="1 修改旧的 commit 的 message"></a>1 修改旧的 commit 的 message</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 1 commit_id 为要变基的 commit 的父 commit_id </span><br><span class="line">git rebase -i commit_id</span><br><span class="line"></span><br><span class="line"># 2 进入交互式</span><br><span class="line">pick 改为 r 保存会进入另一个交互式文件（即新的 message）</span><br></pre></td></tr></table></figure>

<h4 id="2-合并多个连续-commit"><a href="#2-合并多个连续-commit" class="headerlink" title="2 合并多个连续 commit"></a>2 合并多个连续 commit</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 1 commit_id 为要变基的 commit 的父 commit_id </span><br><span class="line">git rebase -i commit_id</span><br><span class="line"></span><br><span class="line"># 2 进入交互式</span><br><span class="line">要合成到哪个 commit 上，则其 pick 不变，其余 commit 的 pick 改为 s</span><br><span class="line"></span><br><span class="line"># 3 进入提交信息修改界面</span><br></pre></td></tr></table></figure>

<h4 id="3-合并多个间隔提交"><a href="#3-合并多个间隔提交" class="headerlink" title="3 合并多个间隔提交"></a>3 合并多个间隔提交</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 1 commit_id 为要变基的 commit 的父 commit_id </span><br><span class="line">git rebase -i commit_id</span><br><span class="line"></span><br><span class="line"># 2 </span><br><span class="line">手动调整commit位置，`pick s s s ...`</span><br><span class="line"></span><br><span class="line"># 3 </span><br><span class="line">git rebase --continue 进入commit信息修改页面</span><br></pre></td></tr></table></figure>

<h2 id="6-3-贮藏（stash）"><a href="#6-3-贮藏（stash）" class="headerlink" title="6.3 贮藏（stash）"></a>6.3 贮藏（stash）</h2><h3 id="1-概述-1"><a href="#1-概述-1" class="headerlink" title="1 概述"></a>1 概述</h3><ol>
<li>当需要切换分支而又不想现在提交时，可以贮藏，然后恢复</li>
<li>只能贮藏已追踪和非 <code>.gitignore</code> 的文件 </li>
</ol>
<h3 id="2-添加贮藏"><a href="#2-添加贮藏" class="headerlink" title="2 添加贮藏"></a>2 添加贮藏</h3><ul>
<li><code>git stash [push] [OPTION] [FILE]</code><ul>
<li>将工作区和暂存区的状态存储起来以备将来使用，之后将工作区和暂存区内容重置为最近一次提交后的内容</li>
<li><code>push</code><ul>
<li><code>git stash</code> 是 <code>git stash push</code> 的简写</li>
</ul>
</li>
<li><code>OPTION</code><ul>
<li><code>-m &quot;message&quot;</code><ul>
<li>添加暂存信息</li>
</ul>
</li>
<li><code>-u, --include-untracked</code><ul>
<li>将未追踪文件也贮藏</li>
</ul>
</li>
<li><code>-a, --all</code><ul>
<li>将忽略文件也贮藏</li>
</ul>
</li>
<li><code>-k, --keep-index</code><ul>
<li>表示只重置工作区，不重置暂存区</li>
<li>默认值是 <code>--no-keep-index</code></li>
</ul>
</li>
</ul>
</li>
<li><code>FILE</code><ul>
<li>只贮藏指定文件</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="3-查看贮藏"><a href="#3-查看贮藏" class="headerlink" title="3 查看贮藏"></a>3 查看贮藏</h3><ul>
<li><code>git stash list</code></li>
</ul>
<h3 id="4-应用贮藏（恢复）"><a href="#4-应用贮藏（恢复）" class="headerlink" title="4 应用贮藏（恢复）"></a>4 应用贮藏（恢复）</h3><ol>
<li><code>git stash apply [stash_name] [--index]</code><ul>
<li><code>stash_name</code><ul>
<li>省略表示应用最新一个贮藏，可以使用名称指定一个贮藏，如 <code>stash@&#123;2&#125;</code></li>
</ul>
</li>
<li><code>--index</code><ul>
<li>默认应用贮藏时，不会恢复暂存区，<code>--index</code> 表示恢复暂存区</li>
</ul>
</li>
</ul>
</li>
<li><code>git stash pop</code><ol>
<li>用法同 <code>git stash apply</code></li>
<li>区别<ol>
<li><code>git stash apply</code> 应用并保留贮藏</li>
<li><code>git stash pop</code> 应用并删除贮藏</li>
</ol>
</li>
</ol>
</li>
</ol>
<h3 id="5-删除贮藏"><a href="#5-删除贮藏" class="headerlink" title="5 删除贮藏"></a>5 删除贮藏</h3><ol>
<li><code>git stash drop stash_name</code><ul>
<li>删除指定储藏</li>
</ul>
</li>
<li><code>git stash clear</code><ul>
<li>删除所有储藏</li>
</ul>
</li>
</ol>
<h2 id="6-4-追踪分支"><a href="#6-4-追踪分支" class="headerlink" title="6.4 追踪分支"></a>6.4 追踪分支</h2><ol>
<li><code>git checkout -b &lt;本地分支名&gt; &lt;远程主机&gt;/&lt;远程分支名&gt;</code><ul>
<li>创建一个本地分支追踪远程主机的远程分支</li>
</ul>
</li>
<li><code>git checkout --track &lt;远程主机&gt;/&lt;远程分支名&gt;</code><ul>
<li>创建一个与远程分支同名的本地分支来追踪远程主机的远程分支</li>
</ul>
</li>
<li><code>git branch -u &lt;远程主机&gt;/&lt;远程分支名&gt;</code><ul>
<li>设置当前本地分支追踪远程主机的远程分支</li>
<li>当设置好追踪分支后，可以通过 <code>@&#123;upstream&#125;</code> 或 <code>@&#123;u&#125;</code> 快捷方式来引用它</li>
</ul>
</li>
</ol>
<h1 id="七-标签"><a href="#七-标签" class="headerlink" title="七 标签"></a>七 标签</h1><h2 id="7-1-概述"><a href="#7-1-概述" class="headerlink" title="7.1 概述"></a>7.1 概述</h2><ol>
<li>类似于别名，因为 <code>commit_id</code> 看不出提交的信息，通过打标签可以更方便识别</li>
<li>标签分类<ol>
<li>轻量标签（lightweight）：<ol>
<li>就是个指向特定提交对象的引用</li>
<li>存储在 <code>.git/refs/tags</code></li>
</ol>
</li>
<li>附注标签（annotated）<ol>
<li>不仅有引用还有对象，在 <code>.git/refs/tags</code> 和 <code>.git/objects</code> 都有存储</li>
<li>它有自身的校验和信息，包含着打标签者的名字，电子邮件地址、日期以及标签说明</li>
<li>标签允许使用 GNU Privacy Guard (GPG) 签名和验证</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id="7-2-查看标签"><a href="#7-2-查看标签" class="headerlink" title="7.2 查看标签"></a>7.2 查看标签</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git tag</code></td>
<td>查看所有标签，默认按字母排序</td>
</tr>
<tr>
<td><code>git tag -l Pattern</code></td>
<td>查看匹配的标签</td>
</tr>
<tr>
<td><code>git show tag_name</code></td>
<td>查看指定标签信息及其对应的提交信息</td>
</tr>
</tbody></table>
<h2 id="7-3-创建标签"><a href="#7-3-创建标签" class="headerlink" title="7.3 创建标签"></a>7.3 创建标签</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git tag tag_name [commit_id]</code></td>
<td>创建轻量标签，默认为当前分支 HEAD 打标签，可以指定 <code>commit_id</code></td>
</tr>
<tr>
<td><code>git tag -a tag_name -m &quot;message&quot; [commit_id]</code></td>
<td>创建附注标签，并添加标签信息</td>
</tr>
<tr>
<td><code>git tag -s tag_name -m &quot;message&quot; [commit_id]</code></td>
<td>采用 GPG 签名创建附注标签，必须首先安装 GPG</td>
</tr>
</tbody></table>
<h2 id="7-4-推送标签"><a href="#7-4-推送标签" class="headerlink" title="7.4 推送标签"></a>7.4 推送标签</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git push origin tag_name</code></td>
<td>推送一个本地标签到远程仓库，<code>git push</code> 命令默认不会把标签推送到远端服务器上</td>
</tr>
<tr>
<td><code>git push origin --tags</code></td>
<td>推送全部不在远程仓库的本地标签</td>
</tr>
</tbody></table>
<h2 id="7-5-删除标签"><a href="#7-5-删除标签" class="headerlink" title="7.5 删除标签"></a>7.5 删除标签</h2><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git tag -d tag_name</code></td>
<td>删除本地标签，并不会从远程仓库中移除这个标签</td>
</tr>
<tr>
<td><code>git push remote_name :refs/tags/tag_name</code></td>
<td>删除远程标签，将冒号前面的空值推送到远程标签名，从而高效地删除它</td>
</tr>
<tr>
<td><code>git push remote_name --delete tag_name</code></td>
<td>删除远程标签，更直观</td>
</tr>
</tbody></table>
<h1 id="八-远程仓库"><a href="#八-远程仓库" class="headerlink" title="八 远程仓库"></a>八 远程仓库</h1><h2 id="8-1-远程仓库管理"><a href="#8-1-远程仓库管理" class="headerlink" title="8.1 远程仓库管理"></a>8.1 远程仓库管理</h2><h3 id="1-增删改"><a href="#1-增删改" class="headerlink" title="1 增删改"></a>1 增删改</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git remote add &lt;name&gt; &lt;URL&gt;</code></td>
<td>添加远程仓库</td>
</tr>
<tr>
<td><code>git remote rename &lt;old_name&gt; &lt;new_name&gt;</code></td>
<td>重命名远程仓库</td>
</tr>
<tr>
<td><code>git remote remove &lt;name&gt;</code></td>
<td>删除远程仓库</td>
</tr>
</tbody></table>
<ol>
<li><code>name</code>：远程仓库别名，通常为 <code>origin</code></li>
<li><code>URL</code><ol>
<li>HTTPS：<code>https://github.com/username/repository.git</code></li>
<li>SSH：<code>git@github.com:username/repository.git</code></li>
</ol>
</li>
</ol>
<h3 id="2-查看远程仓库"><a href="#2-查看远程仓库" class="headerlink" title="2 查看远程仓库"></a>2 查看远程仓库</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git remote</code></td>
<td>查看已经配置的远程仓库</td>
</tr>
<tr>
<td><code>git remote -v</code></td>
<td>查看已经配置的远程仓库及URL信息</td>
</tr>
<tr>
<td><code>git remote show remote_name</code></td>
<td>查看某个远程仓库的信息（分支关联情况..）</td>
</tr>
</tbody></table>
<h2 id="8-2-本地-→-远程"><a href="#8-2-本地-→-远程" class="headerlink" title="8.2 本地 → 远程"></a>8.2 本地 → 远程</h2><h3 id="1-推送模式"><a href="#1-推送模式" class="headerlink" title="1 推送模式"></a>1 推送模式</h3><table>
<thead>
<tr>
<th>模式</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>simple</td>
<td>默认，只推送当前分支</td>
</tr>
<tr>
<td>matching</td>
<td>推送所有有对应的远程分支的本地分支</td>
</tr>
</tbody></table>
<h3 id="2-git-push"><a href="#2-git-push" class="headerlink" title="2 git push"></a>2 git push</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git push -u &lt;远程主机名&gt; &lt;本地分支名&gt;:&lt;远程分支名&gt;</code></td>
<td>推送本地分支到远程主机的指定分支，<code>-u/--set-upstream</code> 表示推送并追踪</td>
</tr>
<tr>
<td><code>git push &lt;远程主机名&gt; &lt;本地分支名&gt;</code></td>
<td>推送本地分支到远程主机的同名分支</td>
</tr>
<tr>
<td><code>git push &lt;远程主机名&gt; :&lt;远程分支名&gt;</code></td>
<td>推送空分支到远程主机的指定分支，即删除指定的远程分支</td>
</tr>
<tr>
<td><code>git push &lt;远程主机名&gt;</code></td>
<td>推送当前分支到远程主机的同名分支，当前分支与远程分支之间必须存在追踪关系</td>
</tr>
<tr>
<td><code>git push</code></td>
<td>如果当前分支只与一个远程主机的存在追踪关系，则远程主机可以省略</td>
</tr>
<tr>
<td><code>git push --delete &lt;远程主机名&gt; &lt;远程分支名&gt;</code></td>
<td>删除指定的远程分支</td>
</tr>
</tbody></table>
<h2 id="8-3-远程-→-本地"><a href="#8-3-远程-→-本地" class="headerlink" title="8.3 远程 → 本地"></a>8.3 远程 → 本地</h2><h3 id="1-git-clone"><a href="#1-git-clone" class="headerlink" title="1 git clone"></a>1 git clone</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git clone URL</code></td>
<td>克隆到当前目录，且会自动地添加远程仓库别名 <code>origin</code> ，并追踪分支</td>
</tr>
</tbody></table>
<h3 id="2-git-pull"><a href="#2-git-pull" class="headerlink" title="2 git pull"></a>2 git pull</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt;</code></td>
<td>取回远程主机某个分支的更新，并与本地的指定分支合并</td>
</tr>
<tr>
<td><code>git pull &lt;远程主机名&gt; &lt;远程分支名&gt;:&lt;本地分支名&gt; --allow-unrelated-histories</code></td>
<td>允许不相关历史合并，用来解决两个仓库有不同的开始点，即两个仓库没有共同的 commit</td>
</tr>
</tbody></table>
<ol>
<li>首先执行 git fetch</li>
<li>之后 merge FETCH_HEAD 记录的第一个分支</li>
<li>如果工作区有一些修改尚未提交到本地仓库，即工作区与本地仓库不一致，则禁止 git pull</li>
</ol>
<h3 id="3-git-fetch"><a href="#3-git-fetch" class="headerlink" title="3 git fetch"></a>3 git fetch</h3><table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>git fetch &lt;远程主机名&gt;</code></td>
<td>将远程仓库所有分支的更新取回到本地</td>
</tr>
<tr>
<td><code>git fetch &lt;远程主机名&gt; &lt;远程分支名&gt;</code></td>
<td>将远程仓库指定分支的更新取回到本地</td>
</tr>
</tbody></table>
<ol>
<li>fetch 之后，更新本地的远程分支，但不会与本地分支同步，需要手动 merge</li>
<li>FETCH_HEAD：<ol>
<li>记录远程每个分支的 commit 对象</li>
<li>第一个显示的是执行 git fetch 所在的分支</li>
<li>剩余显示其它分支（not-for-merge）</li>
</ol>
</li>
</ol>
<h1 id="九-其它"><a href="#九-其它" class="headerlink" title="九 其它"></a>九 其它</h1><h2 id="9-1-忽略文件"><a href="#9-1-忽略文件" class="headerlink" title="9.1 忽略文件"></a>9.1 忽略文件</h2><ol>
<li>在工作区创建 <code>.gitignore</code> 文件（可以从网上查询），然后把要忽略的文件名填进去</li>
<li>忽略文件的原则：<ol>
<li>忽略操作系统自动生成的文件，比如缩略图等；</li>
<li>忽略编译生成的中间文件、可执行文件等，也就是如果一个文件是通过另一个文件自动生成的，那自动生成的文件就没必要放进版本库，比如Java编译产生的 <code>.class</code> 文件；</li>
<li>忽略你自己的带有敏感信息的配置文件，比如存放口令的配置文件</li>
</ol>
</li>
</ol>

    </div>

    
    
    

    <div>
      
        <div>
    
        <div style="text-align:center;color: #66ccff;font-size:14px;">-------------The End&nbsp;&nbsp;<i class="fa fa-paw"></i>&nbsp;&nbsp;客官请自便-------------</div>
    
</div
      
    </div>

      <footer class="post-footer">

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2022/02/28/css08-%E8%BF%87%E6%B8%A1%E5%8F%98%E5%BD%A2%E5%92%8C%E5%8A%A8%E7%94%BB/" rel="prev" title="08-过渡变形和动画">
      <i class="fa fa-chevron-left"></i> 08-过渡变形和动画
    </a></div>
      <div class="post-nav-item"></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%80-%E6%A6%82%E8%BF%B0"><span class="nav-text">一 概述</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%8C-%E5%B8%AE%E5%8A%A9"><span class="nav-text">二 帮助</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89-%E9%85%8D%E7%BD%AE"><span class="nav-text">三 配置</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E9%85%8D%E7%BD%AE%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">3.1 配置作用域</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-%E9%85%8D%E7%BD%AE%E5%91%BD%E4%BB%A4"><span class="nav-text">3.2 配置命令</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%9F%A5"><span class="nav-text">1 查</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%A2%9E"><span class="nav-text">2 增</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%88%A0"><span class="nav-text">3 删</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E6%94%B9"><span class="nav-text">4 改</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E5%B8%B8%E7%94%A8%E9%85%8D%E7%BD%AE"><span class="nav-text">3.3 常用配置</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%89-%E5%88%9D%E5%A7%8B%E5%8C%96%E4%BB%93%E5%BA%93"><span class="nav-text">三 初始化仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="nav-text">3.1 初始化</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-git-%E7%9B%AE%E5%BD%95"><span class="nav-text">3.2 .git 目录</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-3-%E4%BB%93%E5%BA%93%E7%9B%B8%E5%85%B3%E6%A6%82%E5%BF%B5"><span class="nav-text">3.3 仓库相关概念</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-4-%E6%96%87%E4%BB%B6%E7%8A%B6%E6%80%81"><span class="nav-text">3.4 文件状态</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%9B%9B-Git-%E5%8E%9F%E7%90%86"><span class="nav-text">四 Git 原理</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-%E6%A6%82%E8%BF%B0"><span class="nav-text">4.1 概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-Git-%E5%AF%B9%E8%B1%A1"><span class="nav-text">4.2 Git 对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-blob"><span class="nav-text">1 blob</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%AD%98"><span class="nav-text">1 存</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%8F%96"><span class="nav-text">2 取</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-tree"><span class="nav-text">2 tree</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-commit"><span class="nav-text">3 commit</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-3-Git-%E5%BC%95%E7%94%A8"><span class="nav-text">4.3 Git 引用</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%BA%94-Git-%E6%93%8D%E4%BD%9C%E5%91%BD%E4%BB%A4"><span class="nav-text">五 Git 操作命令</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-%E6%9F%A5"><span class="nav-text">5.1 查</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-git-status"><span class="nav-text">1 git status</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-git-log"><span class="nav-text">2 git log</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-git-reflog"><span class="nav-text">3 git reflog</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-%E5%A2%9E"><span class="nav-text">5.2 增</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-3-%E5%88%A0"><span class="nav-text">5.3 删</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-4-%E9%87%8D%E5%91%BD%E5%90%8D"><span class="nav-text">5.4 重命名</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-5-%E6%8F%90%E4%BA%A4"><span class="nav-text">5.5 提交</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-6-%E6%AF%94%E8%BE%83"><span class="nav-text">5.6 比较</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-7-%E5%9B%9E%E6%BA%AF"><span class="nav-text">5.7 回溯</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-8-%E6%A3%80%E5%87%BA"><span class="nav-text">5.8 检出</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E9%87%8D%E7%BD%AE%E5%B7%A5%E4%BD%9C%E5%8C%BA"><span class="nav-text">1 重置工作区</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"><span class="nav-text">2 切换分支</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AD-%E5%88%86%E6%94%AF"><span class="nav-text">六 分支</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#6-1-%E5%88%86%E6%94%AF%E6%93%8D%E4%BD%9C"><span class="nav-text">6.1 分支操作</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%9F%A5%E7%9C%8B%E5%88%86%E6%94%AF"><span class="nav-text">1 查看分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%88%9B%E5%BB%BA%E5%88%86%E6%94%AF"><span class="nav-text">2 创建分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%88%87%E6%8D%A2%E5%88%86%E6%94%AF"><span class="nav-text">3 切换分支</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%88%A0%E9%99%A4%E5%88%86%E6%94%AF"><span class="nav-text">4 删除分支</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-2-%E5%90%88%E5%B9%B6-merge"><span class="nav-text">6.2 合并 merge</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-%E5%8F%98%E5%9F%BA-rebase"><span class="nav-text">6.3 变基 rebase</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%A6%82%E8%BF%B0"><span class="nav-text">1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E5%8F%98%E5%9F%BA%E5%8E%9F%E7%90%86"><span class="nav-text">2 变基原理</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E5%91%BD%E4%BB%A4"><span class="nav-text">3 命令</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E5%8F%98%E5%9F%BA%E5%91%BD%E4%BB%A4"><span class="nav-text">1 变基命令</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%8F%98%E5%9F%BA%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="nav-text">2 变基过程中的命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%9C%BA%E6%99%AF"><span class="nav-text">4 场景</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1-%E4%BF%AE%E6%94%B9%E6%97%A7%E7%9A%84-commit-%E7%9A%84-message"><span class="nav-text">1 修改旧的 commit 的 message</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2-%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AA%E8%BF%9E%E7%BB%AD-commit"><span class="nav-text">2 合并多个连续 commit</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-%E5%90%88%E5%B9%B6%E5%A4%9A%E4%B8%AA%E9%97%B4%E9%9A%94%E6%8F%90%E4%BA%A4"><span class="nav-text">3 合并多个间隔提交</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-3-%E8%B4%AE%E8%97%8F%EF%BC%88stash%EF%BC%89"><span class="nav-text">6.3 贮藏（stash）</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%A6%82%E8%BF%B0-1"><span class="nav-text">1 概述</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%B7%BB%E5%8A%A0%E8%B4%AE%E8%97%8F"><span class="nav-text">2 添加贮藏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-%E6%9F%A5%E7%9C%8B%E8%B4%AE%E8%97%8F"><span class="nav-text">3 查看贮藏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#4-%E5%BA%94%E7%94%A8%E8%B4%AE%E8%97%8F%EF%BC%88%E6%81%A2%E5%A4%8D%EF%BC%89"><span class="nav-text">4 应用贮藏（恢复）</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-%E5%88%A0%E9%99%A4%E8%B4%AE%E8%97%8F"><span class="nav-text">5 删除贮藏</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#6-4-%E8%BF%BD%E8%B8%AA%E5%88%86%E6%94%AF"><span class="nav-text">6.4 追踪分支</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B8%83-%E6%A0%87%E7%AD%BE"><span class="nav-text">七 标签</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#7-1-%E6%A6%82%E8%BF%B0"><span class="nav-text">7.1 概述</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-2-%E6%9F%A5%E7%9C%8B%E6%A0%87%E7%AD%BE"><span class="nav-text">7.2 查看标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-3-%E5%88%9B%E5%BB%BA%E6%A0%87%E7%AD%BE"><span class="nav-text">7.3 创建标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-4-%E6%8E%A8%E9%80%81%E6%A0%87%E7%AD%BE"><span class="nav-text">7.4 推送标签</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#7-5-%E5%88%A0%E9%99%A4%E6%A0%87%E7%AD%BE"><span class="nav-text">7.5 删除标签</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%85%AB-%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-text">八 远程仓库</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#8-1-%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93%E7%AE%A1%E7%90%86"><span class="nav-text">8.1 远程仓库管理</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E5%A2%9E%E5%88%A0%E6%94%B9"><span class="nav-text">1 增删改</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-%E6%9F%A5%E7%9C%8B%E8%BF%9C%E7%A8%8B%E4%BB%93%E5%BA%93"><span class="nav-text">2 查看远程仓库</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-2-%E6%9C%AC%E5%9C%B0-%E2%86%92-%E8%BF%9C%E7%A8%8B"><span class="nav-text">8.2 本地 → 远程</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-%E6%8E%A8%E9%80%81%E6%A8%A1%E5%BC%8F"><span class="nav-text">1 推送模式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-git-push"><span class="nav-text">2 git push</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#8-3-%E8%BF%9C%E7%A8%8B-%E2%86%92-%E6%9C%AC%E5%9C%B0"><span class="nav-text">8.3 远程 → 本地</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#1-git-clone"><span class="nav-text">1 git clone</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2-git-pull"><span class="nav-text">2 git pull</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#3-git-fetch"><span class="nav-text">3 git fetch</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E4%B9%9D-%E5%85%B6%E5%AE%83"><span class="nav-text">九 其它</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#9-1-%E5%BF%BD%E7%95%A5%E6%96%87%E4%BB%B6"><span class="nav-text">9.1 忽略文件</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="安₃"
      src="/images/an3.JPG">
  <p class="site-author-name" itemprop="name">安₃</p>
  <div class="site-description" itemprop="description">我未成名君未嫁 可能俱是不如人</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">20</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2022</span>
  <span class="with-love">
    <i class="fas fa-star-and-crescent"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">安₃</span>
</div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

</body>
</html>
